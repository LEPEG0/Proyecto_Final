{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/reservaciones.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction HacerReservacionComponent_div_4_option_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const i_r6 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(i_r6);\n  }\n}\nfunction HacerReservacionComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"h2\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"h2\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(5, \"br\");\n    i0.ɵɵelementStart(6, \"h5\");\n    i0.ɵɵtext(7, \"Ingresa los datos para hacer tu reservacion\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(8, \"br\");\n    i0.ɵɵelementStart(9, \"label\");\n    i0.ɵɵtext(10, \"Ano de la reservacion: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"input\", 3);\n    i0.ɵɵlistener(\"ngModelChange\", function HacerReservacionComponent_div_4_Template_input_ngModelChange_11_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.ano = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(12, \"br\")(13, \"br\");\n    i0.ɵɵelementStart(14, \"label\");\n    i0.ɵɵtext(15, \"Mes de la reservacion:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"select\", 4);\n    i0.ɵɵlistener(\"ngModelChange\", function HacerReservacionComponent_div_4_Template_select_ngModelChange_16_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.mesSeleccionado = $event);\n    });\n    i0.ɵɵtemplate(17, HacerReservacionComponent_div_4_option_17_Template, 2, 1, \"option\", 5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(18, \"br\")(19, \"br\");\n    i0.ɵɵelementStart(20, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function HacerReservacionComponent_div_4_Template_button_click_20_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.continuar());\n    });\n    i0.ɵɵtext(21, \"Continuar\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(22, \"br\")(23, \"br\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Lugar: \", ctx_r0.casaNombre, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"Usuario: \", ctx_r0.usuario.nombre, \" \", ctx_r0.usuario.apellido, \"\");\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.ano);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.mesSeleccionado);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.meses);\n  }\n}\nfunction HacerReservacionComponent_div_5_option_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const i_r12 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(i_r12);\n  }\n}\nfunction HacerReservacionComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"label\");\n    i0.ɵɵtext(2, \"Selecciona uno de los dias disponibles\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"br\");\n    i0.ɵɵelementStart(4, \"select\", 4);\n    i0.ɵɵlistener(\"ngModelChange\", function HacerReservacionComponent_div_5_Template_select_ngModelChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r13 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r13.dia = $event);\n    });\n    i0.ɵɵtemplate(5, HacerReservacionComponent_div_5_option_5_Template, 2, 1, \"option\", 5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(6, \"br\")(7, \"br\");\n    i0.ɵɵelementStart(8, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function HacerReservacionComponent_div_5_Template_button_click_8_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r15 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r15.continuar2());\n    });\n    i0.ɵɵtext(9, \"Seleccionar fecha\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(10, \"br\")(11, \"br\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.dia);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.dias);\n  }\n}\nfunction HacerReservacionComponent_h5_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"h5\", 7);\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"innerHTML\", ctx_r2.msj, i0.ɵɵsanitizeHtml);\n  }\n}\nfunction HacerReservacionComponent_div_7_label_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"label\");\n    i0.ɵɵtext(1, \"Seleccione la fecha del checkout:\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction HacerReservacionComponent_div_7_button_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r19 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function HacerReservacionComponent_div_7_button_5_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r19);\n      const ctx_r18 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r18.continuar3());\n    });\n    i0.ɵɵtext(1, \"Continuar\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction HacerReservacionComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r21 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, HacerReservacionComponent_div_7_label_1_Template, 2, 0, \"label\", 1);\n    i0.ɵɵelementStart(2, \"input\", 8);\n    i0.ɵɵlistener(\"ngModelChange\", function HacerReservacionComponent_div_7_Template_input_ngModelChange_2_listener($event) {\n      i0.ɵɵrestoreView(_r21);\n      const ctx_r20 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r20.fechaCheckOut = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"br\")(4, \"br\");\n    i0.ɵɵtemplate(5, HacerReservacionComponent_div_7_button_5_Template, 2, 0, \"button\", 9);\n    i0.ɵɵelement(6, \"br\")(7, \"br\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.seleccionarFechaCheckOut);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"max\", ctx_r3.limiteCheckOut);\n    i0.ɵɵpropertyInterpolate(\"min\", ctx_r3.fechaMinCheckOut);\n    i0.ɵɵproperty(\"ngModel\", ctx_r3.fechaCheckOut);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.seleccionarFechaCheckOut);\n  }\n}\nfunction HacerReservacionComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r23 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"br\")(2, \"br\");\n    i0.ɵɵelementStart(3, \"h1\", 10);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(5, \"br\");\n    i0.ɵɵelementStart(6, \"h3\", 10);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(8, \"br\");\n    i0.ɵɵelementStart(9, \"h5\");\n    i0.ɵɵtext(10, \"Fecha de CheckIn: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(11, \"br\")(12, \"h5\", 11)(13, \"br\")(14, \"br\");\n    i0.ɵɵelementStart(15, \"h5\");\n    i0.ɵɵtext(16, \"Fecha de CheckOut: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(17, \"br\")(18, \"h5\", 11);\n    i0.ɵɵelementStart(19, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function HacerReservacionComponent_div_8_Template_button_click_19_listener() {\n      i0.ɵɵrestoreView(_r23);\n      const ctx_r22 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r22.terminar());\n    });\n    i0.ɵɵtext(20, \"Volver al menu.\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"Felicidades \", ctx_r4.usuario.nombre, \"!\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Has hecho reservacion en \", ctx_r4.casaNombre, \".\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"innerHTML\", ctx_r4.fechaCheckIn.toLocaleDateString(), i0.ɵɵsanitizeHtml);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"innerHTML\", ctx_r4.fechaCheckOut.toLocaleDateString(), i0.ɵɵsanitizeHtml);\n  }\n}\nexport class HacerReservacionComponent {\n  constructor(reservacionesService, router) {\n    this.reservacionesService = reservacionesService;\n    this.router = router;\n    this.title = 'calendarioEjemplo';\n    this.meses = [\"Enero\", \"Febrero\", \"Marzo\", \"Abril\", \"Mayo\", \"Junio\", \"Julio\", \"Agosto\", \"Septiembre\", \"Octubre\", \"Noviembre\", \"Diciembre\"];\n    this.disponibles = [];\n    this.des = [];\n    this.dias = [];\n    this.seleccionarDia = false;\n    this.seleccionarFechaCheckOut = false;\n    this.mostrarFechas = false;\n    this.error = false;\n    this.msj = \"\";\n    this.fechaMinCheckOut = `${new Date().getFullYear()}-${(new Date().getMonth() + 1).toString().padStart(2, '0')}-${new Date().getDate().toString().padStart(2, '0')}`;\n    if (localStorage.getItem(\"casaNombre\") != null) {\n      this.casaNombre = JSON.parse(localStorage.getItem(\"casaNombre\") || \"\");\n    } else {\n      this.casaNombre = \"Casa 1\";\n    }\n    if (localStorage.getItem(\"casaID\") != null) {\n      this.casaID = JSON.parse(localStorage.getItem(\"casaID\") || \"\");\n    } else {\n      this.casaID = \"airbnb1\";\n    }\n    if (localStorage.getItem(\"usuarioActual\") != null) {\n      this.usuario = JSON.parse(localStorage.getItem(\"usuarioActual\") || \"\");\n    } else {\n      this.usuario = {\n        nombre: \"\",\n        apellido: \"\",\n        contrasena: \"\",\n        correo: \"\",\n        nacimiento: new Date(),\n        telefono: \"\"\n      };\n    }\n    this.des = reservacionesService.fechasOcupadas(this.casaID);\n    /*this.des = [\r\n     new Date(2023, 5, 23),\r\n     new Date(2023, 5, 6),\r\n     new Date(2023, 5, 20)];*/\n    this.ano = new Date().getFullYear();\n    this.mes = new Date().getMonth();\n    this.dia = new Date().getDate();\n    this.mesSeleccionado = this.meses[this.mes];\n    this.des.sort(function (a, b) {\n      return a.getTime() - b.getTime();\n    });\n  }\n  continuar() {\n    this.mes = this.meses.indexOf(this.mesSeleccionado);\n    if (this.ano == new Date().getFullYear() && this.mes >= new Date().getMonth() || this.ano > new Date().getFullYear()) {\n      this.error = false;\n      let ini = new Date(this.ano, this.mes, 1);\n      let fin = new Date(this.ano, this.mes + 1, 1);\n      this.seleccionarDia = true;\n      while (ini < fin) {\n        let band = true;\n        for (let i of this.des) {\n          if (ini.getDate() == i.getDate() && ini.getMonth() == i.getMonth() && ini.getFullYear() == i.getFullYear()) {\n            band = false;\n          }\n        }\n        if (band) {\n          this.dias.push(ini.getDate());\n        }\n        ini.setDate(ini.getDate() + 1);\n      }\n    } else {\n      this.seleccionarDia = false;\n      this.msj = \"Verifica el ano y mes ingresados\";\n      this.error = true;\n    }\n    //console.log(this.dias)\n  }\n\n  continuar2() {\n    if (new Date(this.ano, this.mes, this.dia) >= new Date()) {\n      this.error = false;\n      this.seleccionarFechaCheckOut = true;\n      this.fechaCheckIn = new Date(this.ano, this.mes, this.dia);\n      this.fechaMinCheckOut = `${this.fechaCheckIn.getFullYear()}-${(this.fechaCheckIn.getMonth() + 1).toString().padStart(2, '0')}-${this.fechaCheckIn.getDate().toString().padStart(2, '0')}`;\n      let min = this.minFechaCheckOut();\n      //console.log(min);\n      if (min == this.fechaCheckIn) {\n        min.setFullYear(min.getFullYear() + 1);\n      }\n      this.limiteCheckOut = `${min.getFullYear()}-${(min.getMonth() + 1).toString().padStart(2, '0')}-${min.getDate().toString().padStart(2, '0')}`;\n      //console.log(this.limiteCheckOut);\n      this.fechaCheckIn.setFullYear(this.fechaCheckIn.getFullYear() - 1);\n    } else {\n      this.msj = \"Verifica el dia ingresado\";\n      this.error = true;\n    }\n  }\n  minFechaCheckOut() {\n    this.des.push(this.fechaCheckIn);\n    //console.log(this.des);\n    this.des.sort(function (a, b) {\n      return a.getTime() - b.getTime();\n    });\n    //console.log(this.des);\n    let indice = this.des.indexOf(this.fechaCheckIn);\n    //console.log(indice + \" \" + this.des.length);\n    if (indice + 1 < this.des.length) {\n      let min = this.des[indice + 1];\n      return min;\n    }\n    return this.fechaCheckIn;\n  }\n  continuar3() {\n    this.reservacionActual = {\n      correo: this.usuario.correo,\n      checkin: this.fechaCheckIn,\n      checkout: this.fechaCheckOut\n    };\n    const response = this.reservacionesService.anadirReservacion(this.reservacionActual, this.casaID);\n    console.log(response);\n    setTimeout(() => {\n      this.fechaCheckOut = new Date(this.fechaCheckOut);\n      this.mostrarFechas = true;\n    }, 3000);\n  }\n  terminar() {\n    localStorage.removeItem(\"casaNombre\");\n    localStorage.removeItem(\"casaID\");\n    this.router.navigate(['']);\n  }\n}\nHacerReservacionComponent.ɵfac = function HacerReservacionComponent_Factory(t) {\n  return new (t || HacerReservacionComponent)(i0.ɵɵdirectiveInject(i1.ReservacionesService), i0.ɵɵdirectiveInject(i2.Router));\n};\nHacerReservacionComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: HacerReservacionComponent,\n  selectors: [[\"app-hacer-reservacion\"]],\n  decls: 9,\n  vars: 5,\n  consts: [[1, \"contenedor\"], [4, \"ngIf\"], [\"id\", \"error\", 3, \"innerHTML\", 4, \"ngIf\"], [\"type\", \"number\", 3, \"ngModel\", \"ngModelChange\"], [3, \"ngModel\", \"ngModelChange\"], [4, \"ngFor\", \"ngForOf\"], [3, \"click\"], [\"id\", \"error\", 3, \"innerHTML\"], [\"type\", \"date\", 3, \"max\", \"ngModel\", \"min\", \"ngModelChange\"], [3, \"click\", 4, \"ngIf\"], [\"id\", \"feli\"], [3, \"innerHTML\"]],\n  template: function HacerReservacionComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"h1\");\n      i0.ɵɵtext(2, \"Hacer reservacion.\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(3, \"br\");\n      i0.ɵɵtemplate(4, HacerReservacionComponent_div_4_Template, 24, 6, \"div\", 1);\n      i0.ɵɵtemplate(5, HacerReservacionComponent_div_5_Template, 12, 2, \"div\", 1);\n      i0.ɵɵtemplate(6, HacerReservacionComponent_h5_6_Template, 1, 1, \"h5\", 2);\n      i0.ɵɵtemplate(7, HacerReservacionComponent_div_7_Template, 8, 5, \"div\", 1);\n      i0.ɵɵtemplate(8, HacerReservacionComponent_div_8_Template, 21, 4, \"div\", 1);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngIf\", !ctx.mostrarFechas);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.seleccionarDia && !ctx.mostrarFechas);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.error);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.seleccionarFechaCheckOut && !ctx.mostrarFechas);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.mostrarFechas);\n    }\n  },\n  dependencies: [i3.NgForOf, i3.NgIf, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i4.DefaultValueAccessor, i4.NumberValueAccessor, i4.SelectControlValueAccessor, i4.NgControlStatus, i4.NgModel],\n  styles: [\".contenedor[_ngcontent-%COMP%]{\\r\\n    width: 64%;\\r\\n    padding: 3%;\\r\\n    align-items: center;\\r\\n    margin: 5% 15% 5% 15%;\\r\\n    border: 1px black solid;\\r\\n    border-radius: 1vw;\\r\\n}\\r\\nh1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h5[_ngcontent-%COMP%]{\\r\\n    width: 100%;\\r\\n    text-align: center;\\r\\n}\\r\\nlabel[_ngcontent-%COMP%], input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{\\r\\n    width: 40%;\\r\\n    margin-left: 30%;\\r\\n    margin-right: 30%;\\r\\n    text-align: center;\\r\\n}\\r\\n#error[_ngcontent-%COMP%]{\\r\\n    color: rgb(159, 0, 0);\\r\\n}\\r\\n#feli[_ngcontent-%COMP%]{\\r\\n    color: rgb(0, 90, 0);\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvaGFjZXItcmVzZXJ2YWNpb24vaGFjZXItcmVzZXJ2YWNpb24uY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLFVBQVU7SUFDVixXQUFXO0lBQ1gsbUJBQW1CO0lBQ25CLHFCQUFxQjtJQUNyQix1QkFBdUI7SUFDdkIsa0JBQWtCO0FBQ3RCO0FBQ0E7SUFDSSxXQUFXO0lBQ1gsa0JBQWtCO0FBQ3RCO0FBQ0E7SUFDSSxVQUFVO0lBQ1YsZ0JBQWdCO0lBQ2hCLGlCQUFpQjtJQUNqQixrQkFBa0I7QUFDdEI7QUFDQTtJQUNJLHFCQUFxQjtBQUN6QjtBQUNBO0lBQ0ksb0JBQW9CO0FBQ3hCIiwic291cmNlc0NvbnRlbnQiOlsiLmNvbnRlbmVkb3J7XHJcbiAgICB3aWR0aDogNjQlO1xyXG4gICAgcGFkZGluZzogMyU7XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgbWFyZ2luOiA1JSAxNSUgNSUgMTUlO1xyXG4gICAgYm9yZGVyOiAxcHggYmxhY2sgc29saWQ7XHJcbiAgICBib3JkZXItcmFkaXVzOiAxdnc7XHJcbn1cclxuaDEsaDIsaDMsaDV7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxufVxyXG5sYWJlbCwgaW5wdXQsc2VsZWN0LGJ1dHRvbntcclxuICAgIHdpZHRoOiA0MCU7XHJcbiAgICBtYXJnaW4tbGVmdDogMzAlO1xyXG4gICAgbWFyZ2luLXJpZ2h0OiAzMCU7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbn1cclxuI2Vycm9ye1xyXG4gICAgY29sb3I6IHJnYigxNTksIDAsIDApO1xyXG59XHJcbiNmZWxpe1xyXG4gICAgY29sb3I6IHJnYigwLCA5MCwgMCk7XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","HacerReservacionComponent","constructor","reservacionesService","router","fechaMinCheckOut","Date","getFullYear","getMonth","toString","padStart","getDate","localStorage","getItem","casaNombre","JSON","parse","casaID","usuario","nombre","apellido","contrasena","correo","nacimiento","telefono","des","fechasOcupadas","ano","mes","dia","mesSeleccionado","meses","sort","a","b","getTime","continuar","indexOf","error","ini","fin","seleccionarDia","band","i","dias","push","setDate","msj","continuar2","seleccionarFechaCheckOut","fechaCheckIn","min","minFechaCheckOut","setFullYear","limiteCheckOut","indice","length","continuar3","reservacionActual","checkin","checkout","fechaCheckOut","response","anadirReservacion","console","log","setTimeout","mostrarFechas","terminar","removeItem","navigate","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\Artur\\Desktop\\ProyectoFinal1\\src\\app\\hacer-reservacion\\hacer-reservacion.component.html","C:\\Users\\Artur\\Desktop\\ProyectoFinal1\\src\\app\\hacer-reservacion\\hacer-reservacion.component.ts"],"sourcesContent":["<div class=\"contenedor\">\n    <h1>Hacer reservacion.</h1>\n    <br>\n    <div *ngIf=\"!mostrarFechas\">\n        <h2>Lugar: {{casaNombre}}</h2>\n        <h2>Usuario: {{usuario.nombre}} {{usuario.apellido}}</h2>\n        <br>\n        <h5>Ingresa los datos para hacer tu reservacion</h5>\n        <br>\n        <label>Ano de la reservacion: </label>\n        <input type=\"number\" [(ngModel)]=\"ano\">\n        <br><br>\n        <label>Mes de la reservacion:</label>\n        <select [(ngModel)]=\"mesSeleccionado\">\n            <option *ngFor=\"let i of meses\">{{i}}</option>\n        </select>\n        <br><br>\n        <button (click)=\"continuar()\">Continuar</button>\n        <br><br>\n    </div>\n\n    <div *ngIf=\"seleccionarDia  && !mostrarFechas\">\n        <label>Selecciona uno de los dias disponibles</label>\n        <br>\n        <select [(ngModel)]=\"dia\">\n            <option *ngFor=\"let i of dias\">{{i}}</option>\n        </select>\n        <br><br>\n        <button (click)=\"continuar2()\">Seleccionar fecha</button>\n        <br><br>\n    </div>\n    <h5 [innerHTML]=\"msj\" *ngIf=\"error\" id=\"error\"></h5>\n\n    <div *ngIf=\"seleccionarFechaCheckOut && !mostrarFechas\">\n        <label *ngIf=\"seleccionarFechaCheckOut\">Seleccione la fecha del checkout:</label>\n        <input type=\"date\" max=\"{{limiteCheckOut}}\" [(ngModel)]=\"fechaCheckOut\" min=\"{{fechaMinCheckOut}}\">\n        <br><br>\n        <button (click)=\"continuar3()\" *ngIf=\"seleccionarFechaCheckOut\">Continuar</button>\n        <br><br>\n    </div>\n\n    <div *ngIf=\"mostrarFechas\">\n        <br><br>\n        <h1 id=\"feli\">Felicidades {{usuario.nombre}}!</h1>\n        <br>\n        <h3 id=\"feli\">Has hecho reservacion en {{casaNombre}}.</h3>\n        <br>\n        <h5>Fecha de CheckIn: </h5>\n        <br>\n        <h5 [innerHTML]=\"fechaCheckIn.toLocaleDateString()\"></h5>\n        <br><br>\n        <h5>Fecha de CheckOut: </h5>\n        <br>\n        <h5 [innerHTML]=\"fechaCheckOut.toLocaleDateString()\"></h5>\n        <button (click)=\"terminar()\">Volver al menu.</button>\n    </div>\n\n</div>","import { Component } from '@angular/core';\nimport Reservacion from '../services/reservacion.interface';\nimport { ReservacionesService } from '../services/reservaciones.service';\nimport User from '../services/user.interface';\nimport { Router } from '@angular/router';\nimport { InicioComponent } from '../inicio/inicio.component';\n\n@Component({\n  selector: 'app-hacer-reservacion',\n  templateUrl: './hacer-reservacion.component.html',\n  styleUrls: ['./hacer-reservacion.component.css']\n})\nexport class HacerReservacionComponent {\n  title = 'calendarioEjemplo';\n  meses: string[] = [\n    \"Enero\",\n    \"Febrero\",\n    \"Marzo\",\n    \"Abril\",\n    \"Mayo\",\n    \"Junio\",\n    \"Julio\",\n    \"Agosto\",\n    \"Septiembre\",\n    \"Octubre\",\n    \"Noviembre\",\n    \"Diciembre\"\n  ];\n  limiteCheckOut!: string;\n  mesSeleccionado!: string;\n  disponibles: Date[] = [];\n  des: Date[] = [];\n  dias: number[] = [];\n  fechaCheckIn!: Date;\n  fechaCheckOut!: Date;\n  ano: number;\n  mes: number;\n  dia: number;\n  casaID: string;\n  casaNombre: string\n  seleccionarDia: boolean = false;\n  seleccionarFechaCheckOut = false;\n  mostrarFechas: Boolean = false;\n  error: boolean = false;\n  msj: string = \"\";\n  fechaMinCheckOut!: string;\n  usuario!: User;\n  reservacionActual!:Reservacion;\n\n  constructor(private reservacionesService: ReservacionesService,\n    private router:Router) {\n    this.fechaMinCheckOut = `${new Date().getFullYear()}-${(new Date().getMonth() + 1).toString().padStart(2, '0')}-${(new Date().getDate()).toString().padStart(2, '0')}`;\n    if (localStorage.getItem(\"casaNombre\") != null) {\n      this.casaNombre = JSON.parse(localStorage.getItem(\"casaNombre\") || \"\");\n    } else {\n      this.casaNombre = \"Casa 1\";\n    }\n    if (localStorage.getItem(\"casaID\") != null) {\n      this.casaID = JSON.parse(localStorage.getItem(\"casaID\") || \"\");\n    } else {\n      this.casaID = \"airbnb1\";\n    }\n    if (localStorage.getItem(\"usuarioActual\") != null) {\n      this.usuario = JSON.parse(localStorage.getItem(\"usuarioActual\") || \"\");\n    } else {\n      this.usuario = {\n        nombre: \"\",\n        apellido: \"\",\n        contrasena: \"\",\n        correo: \"\",\n        nacimiento: new Date(),\n        telefono: \"\"\n      }\n    }\n    this.des = reservacionesService.fechasOcupadas(this.casaID);\n    /*this.des = [\n     new Date(2023, 5, 23),\n     new Date(2023, 5, 6),\n     new Date(2023, 5, 20)];*/\n    this.ano = new Date().getFullYear();\n    this.mes = new Date().getMonth();\n    this.dia = new Date().getDate();\n    this.mesSeleccionado = this.meses[this.mes];\n    this.des.sort(function (a, b) {\n      return a.getTime() - b.getTime();\n    });\n  }\n\n  continuar() {\n    this.mes = this.meses.indexOf(this.mesSeleccionado);\n    if ((this.ano == (new Date().getFullYear()) && this.mes >= (new Date().getMonth()))\n      || this.ano > (new Date().getFullYear())) {\n      this.error = false;\n      let ini = new Date(this.ano, this.mes, 1);\n      let fin = new Date(this.ano, this.mes + 1, 1);\n      this.seleccionarDia = true;\n      while (ini < fin) {\n        let band = true;\n        for (let i of this.des) {\n          if ((ini.getDate() == i.getDate() &&\n            ini.getMonth() == i.getMonth() &&\n            ini.getFullYear() == i.getFullYear())) {\n            band = false;\n          }\n        }\n        if (band) {\n          this.dias.push(ini.getDate());\n        }\n        ini.setDate(ini.getDate() + 1);\n      }\n\n    } else {\n      this.seleccionarDia = false;\n      this.msj = \"Verifica el ano y mes ingresados\";\n      this.error = true;\n    }\n    //console.log(this.dias)\n  }\n\n  continuar2() {\n    if ((new Date(this.ano, this.mes, this.dia)) >= (new Date())) {\n      this.error = false;\n      this.seleccionarFechaCheckOut = true;\n      this.fechaCheckIn = new Date(this.ano, this.mes, this.dia);\n      this.fechaMinCheckOut = `${this.fechaCheckIn.getFullYear()}-${(this.fechaCheckIn.getMonth() + 1).toString().padStart(2, '0')}-${(this.fechaCheckIn.getDate()).toString().padStart(2, '0')}`;\n      let min = this.minFechaCheckOut();\n      //console.log(min);\n      if (min == this.fechaCheckIn) {\n        min.setFullYear(min.getFullYear() + 1);\n      }\n      this.limiteCheckOut = `${min.getFullYear()}-${(min.getMonth() + 1).toString().padStart(2, '0')}-${(min.getDate()).toString().padStart(2, '0')}`;\n      //console.log(this.limiteCheckOut);\n      this.fechaCheckIn.setFullYear(this.fechaCheckIn.getFullYear() - 1);\n\n    } else {\n      this.msj = \"Verifica el dia ingresado\";\n      this.error = true;\n    }\n  }\n\n  minFechaCheckOut(): Date {\n    this.des.push(this.fechaCheckIn)\n    //console.log(this.des);\n    this.des.sort(function (a, b) {\n      return a.getTime() - b.getTime();\n    });\n    //console.log(this.des);\n    let indice = this.des.indexOf(this.fechaCheckIn);\n    //console.log(indice + \" \" + this.des.length);\n    if ((indice + 1) < this.des.length) {\n      let min = this.des[indice + 1];\n      return min;\n    }\n    return this.fechaCheckIn;\n  }\n\n  continuar3() {\n    this.reservacionActual = {\n      correo:this.usuario.correo,\n      checkin:this.fechaCheckIn,\n      checkout:this.fechaCheckOut\n    }\n    const response = this.reservacionesService.anadirReservacion(this.reservacionActual,this.casaID);\n    console.log(response);\n    setTimeout(() => {\n      this.fechaCheckOut = new Date(this.fechaCheckOut);\n      this.mostrarFechas = true;\n    }, 3000);\n  }\n\n  terminar(){\n    localStorage.removeItem(\"casaNombre\");\n    localStorage.removeItem(\"casaID\");\n    this.router.navigate(['']);\n  }\n\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}