{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/reservaciones.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction HacerReservacionComponent_label_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"label\", 3);\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"innerHTML\", ctx_r0.msj, i0.ɵɵsanitizeHtml);\n  }\n}\nfunction HacerReservacionComponent_div_9_option_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const i_r6 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(i_r6);\n  }\n}\nfunction HacerReservacionComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"label\");\n    i0.ɵɵtext(2, \"teclea un ano\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"input\", 4);\n    i0.ɵɵlistener(\"ngModelChange\", function HacerReservacionComponent_div_9_Template_input_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.ano = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(4, \"br\")(5, \"br\");\n    i0.ɵɵelementStart(6, \"label\");\n    i0.ɵɵtext(7, \"selecciona un mes\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"select\", 5);\n    i0.ɵɵlistener(\"ngModelChange\", function HacerReservacionComponent_div_9_Template_select_ngModelChange_8_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.mesSeleccionado = $event);\n    });\n    i0.ɵɵtemplate(9, HacerReservacionComponent_div_9_option_9_Template, 2, 1, \"option\", 6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(10, \"br\")(11, \"br\");\n    i0.ɵɵelementStart(12, \"button\", 7);\n    i0.ɵɵlistener(\"click\", function HacerReservacionComponent_div_9_Template_button_click_12_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.continuar());\n    });\n    i0.ɵɵtext(13, \"Continuar\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(14, \"br\")(15, \"br\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.ano);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.mesSeleccionado);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.meses);\n  }\n}\nfunction HacerReservacionComponent_div_10_option_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const i_r12 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(i_r12);\n  }\n}\nfunction HacerReservacionComponent_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"label\");\n    i0.ɵɵtext(2, \"Selecciona uno de los dias disponibles\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"br\");\n    i0.ɵɵelementStart(4, \"select\", 5);\n    i0.ɵɵlistener(\"ngModelChange\", function HacerReservacionComponent_div_10_Template_select_ngModelChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r13 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r13.dia = $event);\n    });\n    i0.ɵɵtemplate(5, HacerReservacionComponent_div_10_option_5_Template, 2, 1, \"option\", 6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(6, \"br\")(7, \"br\");\n    i0.ɵɵelementStart(8, \"button\", 7);\n    i0.ɵɵlistener(\"click\", function HacerReservacionComponent_div_10_Template_button_click_8_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r15 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r15.continuar2());\n    });\n    i0.ɵɵtext(9, \"Seleccionar fecha\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(10, \"br\")(11, \"br\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.dia);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.dias);\n  }\n}\nfunction HacerReservacionComponent_div_11_label_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"label\");\n    i0.ɵɵtext(1, \"Seleccione la fecha del checkout:\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction HacerReservacionComponent_div_11_button_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r19 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 7);\n    i0.ɵɵlistener(\"click\", function HacerReservacionComponent_div_11_button_5_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r19);\n      const ctx_r18 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r18.continuar3());\n    });\n    i0.ɵɵtext(1, \"Continuar\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction HacerReservacionComponent_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r21 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, HacerReservacionComponent_div_11_label_1_Template, 2, 0, \"label\", 2);\n    i0.ɵɵelementStart(2, \"input\", 8);\n    i0.ɵɵlistener(\"ngModelChange\", function HacerReservacionComponent_div_11_Template_input_ngModelChange_2_listener($event) {\n      i0.ɵɵrestoreView(_r21);\n      const ctx_r20 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r20.fechaCheckOut = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"br\")(4, \"br\");\n    i0.ɵɵtemplate(5, HacerReservacionComponent_div_11_button_5_Template, 2, 0, \"button\", 9);\n    i0.ɵɵelement(6, \"br\")(7, \"br\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.seleccionarFechaCheckOut);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"max\", ctx_r3.limiteCheckOut);\n    i0.ɵɵpropertyInterpolate(\"min\", ctx_r3.fechaActual);\n    i0.ɵɵproperty(\"ngModel\", ctx_r3.fechaCheckOut);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.seleccionarFechaCheckOut);\n  }\n}\nfunction HacerReservacionComponent_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"label\");\n    i0.ɵɵtext(2, \"Fecha de CheckIn: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"label\", 3)(4, \"br\")(5, \"br\");\n    i0.ɵɵelementStart(6, \"label\");\n    i0.ɵɵtext(7, \"Fecha de CheckOut: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(8, \"label\", 3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"innerHTML\", ctx_r4.fechaCheckIn.toLocaleDateString(), i0.ɵɵsanitizeHtml);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"innerHTML\", ctx_r4.fechaCheckOut.toLocaleDateString(), i0.ɵɵsanitizeHtml);\n  }\n}\nexport class HacerReservacionComponent {\n  constructor(reservacionesService) {\n    this.reservacionesService = reservacionesService;\n    this.title = 'calendarioEjemplo';\n    this.meses = [\"Enero\", \"Febrero\", \"Marzo\", \"Abril\", \"Mayo\", \"Junio\", \"Julio\", \"Agosto\", \"Septiembre\", \"Octubre\", \"Noviembre\", \"Diciembre\"];\n    this.disponibles = [];\n    this.des = [];\n    this.dias = [];\n    this.seleccionarDia = false;\n    this.seleccionarFechaCheckOut = false;\n    this.mostrarFechas = false;\n    this.error = false;\n    this.msj = \"\";\n    this.fechaActual = `${new Date().getFullYear()}-${(new Date().getMonth() + 1).toString().padStart(2, '0')}-${new Date().getDate().toString().padStart(2, '0')}`;\n    if (localStorage.getItem(\"casaNombre\") != null) {\n      this.casaNombre = JSON.parse(localStorage.getItem(\"casaNombre\") || \"\");\n    } else {\n      this.casaNombre = \"Casa 1\";\n    }\n    if (localStorage.getItem(\"casaID\") != null) {\n      this.casaID = JSON.parse(localStorage.getItem(\"casaID\") || \"\");\n    } else {\n      this.casaID = \"airbnb1\";\n    }\n    if (localStorage.getItem(\"usuarioActual\") != null) {\n      this.usuario = JSON.parse(localStorage.getItem(\"usuarioActual\") || \"\");\n    } else {\n      this.usuario = {\n        nombre: \"\",\n        apellido: \"\",\n        contrasena: \"\",\n        correo: \"\",\n        nacimiento: new Date(),\n        telefono: \"\"\n      };\n    }\n    /*this.des = [\r\n      new Date(2023, 5, 23),\r\n      new Date(2023, 5, 6),\r\n      new Date(2023, 5, 20)];*/\n    this.ano = new Date().getFullYear();\n    this.mes = new Date().getMonth();\n    this.dia = new Date().getDate();\n    this.mesSeleccionado = this.meses[this.mes];\n    this.des.sort(function (a, b) {\n      return a.getTime() - b.getTime();\n    });\n  }\n  continuar() {\n    this.mes = this.meses.indexOf(this.mesSeleccionado);\n    if (this.ano == new Date().getFullYear() && this.mes >= new Date().getMonth() || this.ano > new Date().getFullYear()) {\n      this.error = false;\n      let ini = new Date(this.ano, this.mes, 1);\n      let fin = new Date(this.ano, this.mes + 1, 1);\n      this.seleccionarDia = true;\n      while (ini < fin) {\n        let band = true;\n        for (let i of this.des) {\n          if (ini.getDate() == i.getDate() && ini.getMonth() == i.getMonth() && ini.getFullYear() == i.getFullYear()) {\n            band = false;\n          }\n        }\n        if (band) {\n          this.dias.push(ini.getDate());\n        }\n        ini.setDate(ini.getDate() + 1);\n      }\n    } else {\n      this.msj = \"Verifica el ano y mes ingresados\";\n      this.error = true;\n    }\n    //console.log(this.dias)\n  }\n\n  continuar2() {\n    if (this.dia >= new Date().getDate()) {\n      this.error = false;\n      this.seleccionarFechaCheckOut = true;\n      this.fechaCheckIn = new Date(this.ano, this.mes, this.dia);\n      let min = this.minFechaCheckOut();\n      //console.log(min);\n      if (min == this.fechaCheckIn) {\n        min.setFullYear(min.getFullYear() + 1);\n      }\n      this.limiteCheckOut = `${min.getFullYear()}-${(min.getMonth() + 1).toString().padStart(2, '0')}-${min.getDate().toString().padStart(2, '0')}`;\n      //console.log(this.limiteCheckOut);\n    } else {\n      this.msj = \"Verifica el dia ingresado\";\n      this.error = true;\n    }\n  }\n  minFechaCheckOut() {\n    this.des.push(this.fechaCheckIn);\n    //console.log(this.des);\n    this.des.sort(function (a, b) {\n      return a.getTime() - b.getTime();\n    });\n    //console.log(this.des);\n    let indice = this.des.indexOf(this.fechaCheckIn);\n    //console.log(indice + \" \" + this.des.length);\n    if (indice + 1 < this.des.length) {\n      let min = this.des[indice + 1];\n      return min;\n    }\n    return this.fechaCheckIn;\n  }\n  continuar3() {\n    this.fechaCheckOut = new Date(this.fechaCheckOut);\n    this.mostrarFechas = true;\n  }\n}\nHacerReservacionComponent.ɵfac = function HacerReservacionComponent_Factory(t) {\n  return new (t || HacerReservacionComponent)(i0.ɵɵdirectiveInject(i1.ReservacionesService));\n};\nHacerReservacionComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: HacerReservacionComponent,\n  selectors: [[\"app-hacer-reservacion\"]],\n  decls: 13,\n  vars: 8,\n  consts: [[1, \"contenedor\"], [3, \"innerHTML\", 4, \"ngIf\"], [4, \"ngIf\"], [3, \"innerHTML\"], [\"type\", \"number\", 3, \"ngModel\", \"ngModelChange\"], [3, \"ngModel\", \"ngModelChange\"], [4, \"ngFor\", \"ngForOf\"], [3, \"click\"], [\"type\", \"date\", 3, \"max\", \"ngModel\", \"min\", \"ngModelChange\"], [3, \"click\", 4, \"ngIf\"]],\n  template: function HacerReservacionComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"h1\");\n      i0.ɵɵtext(2, \"Hacer reservacion.\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(3, \"br\");\n      i0.ɵɵelementStart(4, \"h2\");\n      i0.ɵɵtext(5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"h2\");\n      i0.ɵɵtext(7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(8, HacerReservacionComponent_label_8_Template, 1, 1, \"label\", 1);\n      i0.ɵɵtemplate(9, HacerReservacionComponent_div_9_Template, 16, 3, \"div\", 2);\n      i0.ɵɵtemplate(10, HacerReservacionComponent_div_10_Template, 12, 2, \"div\", 2);\n      i0.ɵɵtemplate(11, HacerReservacionComponent_div_11_Template, 8, 5, \"div\", 2);\n      i0.ɵɵtemplate(12, HacerReservacionComponent_div_12_Template, 9, 2, \"div\", 2);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate1(\"Lugar: \", ctx.casaNombre, \"\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate2(\"Usuario: \", ctx.usuario.nombre, \" \", ctx.usuario.apellido, \"\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.error);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !ctx.mostrarFechas);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.seleccionarDia && !ctx.mostrarFechas);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.seleccionarFechaCheckOut && !ctx.mostrarFechas);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.mostrarFechas);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i3.NgSelectOption, i3.ɵNgSelectMultipleOption, i3.DefaultValueAccessor, i3.NumberValueAccessor, i3.SelectControlValueAccessor, i3.NgControlStatus, i3.NgModel],\n  styles: [\".contenedor[_ngcontent-%COMP%]{\\r\\n    width: 90%;\\r\\n    align-items: center;\\r\\n    margin: 5% 5% 5% 5%;\\r\\n}\\r\\nh1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{\\r\\n    width: 100%;\\r\\n    text-align: center;\\r\\n}\\r\\nlabel[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{\\r\\n    width: 40%;\\r\\n    margin-left: 30%;\\r\\n    margin-right: 30%;\\r\\n    text-align: center;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvaGFjZXItcmVzZXJ2YWNpb24vaGFjZXItcmVzZXJ2YWNpb24uY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLFVBQVU7SUFDVixtQkFBbUI7SUFDbkIsbUJBQW1CO0FBQ3ZCO0FBQ0E7SUFDSSxXQUFXO0lBQ1gsa0JBQWtCO0FBQ3RCO0FBQ0E7SUFDSSxVQUFVO0lBQ1YsZ0JBQWdCO0lBQ2hCLGlCQUFpQjtJQUNqQixrQkFBa0I7QUFDdEIiLCJzb3VyY2VzQ29udGVudCI6WyIuY29udGVuZWRvcntcclxuICAgIHdpZHRoOiA5MCU7XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgbWFyZ2luOiA1JSA1JSA1JSA1JTtcclxufVxyXG5oMSxoMntcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG59XHJcbmxhYmVsLCBpbnB1dHtcclxuICAgIHdpZHRoOiA0MCU7XHJcbiAgICBtYXJnaW4tbGVmdDogMzAlO1xyXG4gICAgbWFyZ2luLXJpZ2h0OiAzMCU7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","HacerReservacionComponent","constructor","reservacionesService","fechaActual","Date","getFullYear","getMonth","toString","padStart","getDate","localStorage","getItem","casaNombre","JSON","parse","casaID","usuario","nombre","apellido","contrasena","correo","nacimiento","telefono","ano","mes","dia","mesSeleccionado","meses","des","sort","a","b","getTime","continuar","indexOf","error","ini","fin","seleccionarDia","band","i","dias","push","setDate","msj","continuar2","seleccionarFechaCheckOut","fechaCheckIn","min","minFechaCheckOut","setFullYear","limiteCheckOut","indice","length","continuar3","fechaCheckOut","mostrarFechas","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\Artur\\Desktop\\ProyectoFinal1\\src\\app\\hacer-reservacion\\hacer-reservacion.component.html","C:\\Users\\Artur\\Desktop\\ProyectoFinal1\\src\\app\\hacer-reservacion\\hacer-reservacion.component.ts"],"sourcesContent":["<div class=\"contenedor\">\n    <h1>Hacer reservacion.</h1>\n    <br>\n    <h2>Lugar: {{casaNombre}}</h2>\n    <h2>Usuario: {{usuario.nombre}} {{usuario.apellido}}</h2>\n    <label [innerHTML]=\"msj\" *ngIf=\"error\"></label>\n    <div *ngIf=\"!mostrarFechas\">\n        <label>teclea un ano</label>\n        <input type=\"number\" [(ngModel)]=\"ano\">\n        <br><br>\n        <label>selecciona un mes</label>\n        <select [(ngModel)]=\"mesSeleccionado\">\n            <option *ngFor=\"let i of meses\">{{i}}</option>\n        </select>\n        <br><br>\n        <button (click)=\"continuar()\">Continuar</button>\n        <br><br>\n    </div>\n\n    <div *ngIf=\"seleccionarDia  && !mostrarFechas\">\n        <label>Selecciona uno de los dias disponibles</label>\n        <br>\n        <select [(ngModel)]=\"dia\">\n            <option *ngFor=\"let i of dias\">{{i}}</option>\n        </select>\n        <br><br>\n        <button (click)=\"continuar2()\">Seleccionar fecha</button>\n        <br><br>\n    </div>\n\n    <div *ngIf=\"seleccionarFechaCheckOut && !mostrarFechas\">\n        <label *ngIf=\"seleccionarFechaCheckOut\">Seleccione la fecha del checkout:</label>\n        <input type=\"date\" max=\"{{limiteCheckOut}}\" [(ngModel)]=\"fechaCheckOut\" min=\"{{fechaActual}}\">\n        <br><br>\n        <button (click)=\"continuar3()\" *ngIf=\"seleccionarFechaCheckOut\">Continuar</button>\n        <br><br>\n    </div>\n\n    <div *ngIf=\"mostrarFechas\">\n        <label>Fecha de CheckIn: </label>\n        <label [innerHTML]=\"fechaCheckIn.toLocaleDateString()\"></label>\n        <br><br>\n        <label>Fecha de CheckOut: </label>\n        <label [innerHTML]=\"fechaCheckOut.toLocaleDateString()\"></label>\n    </div>\n\n</div>","import { Component } from '@angular/core';\nimport Reservacion from '../services/reservacion.interface';\nimport { ReservacionesService } from '../services/reservaciones.service';\nimport User from '../services/user.interface';\n\n@Component({\n  selector: 'app-hacer-reservacion',\n  templateUrl: './hacer-reservacion.component.html',\n  styleUrls: ['./hacer-reservacion.component.css']\n})\nexport class HacerReservacionComponent {\n  title = 'calendarioEjemplo';\n  meses: string[] = [\n    \"Enero\",\n    \"Febrero\",\n    \"Marzo\",\n    \"Abril\",\n    \"Mayo\",\n    \"Junio\",\n    \"Julio\",\n    \"Agosto\",\n    \"Septiembre\",\n    \"Octubre\",\n    \"Noviembre\",\n    \"Diciembre\"\n  ];\n  limiteCheckOut!: string;\n  mesSeleccionado!: string;\n  disponibles: Date[] = [];\n  des: Date[] = [];\n  dias: number[] = [];\n  fechaCheckIn!: Date;\n  fechaCheckOut!: Date;\n  ano: number;\n  mes: number;\n  dia: number;\n  casaID: string;\n  casaNombre: string\n  seleccionarDia: boolean = false;\n  seleccionarFechaCheckOut = false;\n  mostrarFechas: Boolean = false;\n  error: boolean = false;\n  msj: string = \"\";\n  fechaActual!: string;\n  usuario!: User;\n\n  constructor( private reservacionesService:ReservacionesService) {\n    this.fechaActual = `${new Date().getFullYear()}-${(new Date().getMonth() + 1).toString().padStart(2, '0')}-${(new Date().getDate()).toString().padStart(2, '0')}`;\n    if (localStorage.getItem(\"casaNombre\") != null) {\n      this.casaNombre = JSON.parse(localStorage.getItem(\"casaNombre\") || \"\");\n    } else {\n      this.casaNombre = \"Casa 1\";\n    }\n    if (localStorage.getItem(\"casaID\") != null) {\n      this.casaID = JSON.parse(localStorage.getItem(\"casaID\") || \"\");\n    } else {\n      this.casaID = \"airbnb1\";\n    }\n    if (localStorage.getItem(\"usuarioActual\") != null) {\n      this.usuario = JSON.parse(localStorage.getItem(\"usuarioActual\") || \"\");\n    } else {\n      this.usuario = {\n        nombre:\"\",\n        apellido:\"\",\n        contrasena:\"\",\n        correo:\"\",\n        nacimiento: new Date(),\n        telefono: \"\"\n      }\n     }\n     \n    /*this.des = [\n      new Date(2023, 5, 23),\n      new Date(2023, 5, 6),\n      new Date(2023, 5, 20)];*/\n    this.ano = new Date().getFullYear();\n    this.mes = new Date().getMonth();\n    this.dia = new Date().getDate();\n    this.mesSeleccionado = this.meses[this.mes];\n    this.des.sort(function (a, b) {\n      return a.getTime() - b.getTime();\n    });\n  }\n\n  continuar() {\n    this.mes = this.meses.indexOf(this.mesSeleccionado);\n    if ((this.ano == (new Date().getFullYear()) && this.mes >= (new Date().getMonth()))\n      || this.ano > (new Date().getFullYear())) {\n      this.error = false;\n      let ini = new Date(this.ano, this.mes, 1);\n      let fin = new Date(this.ano, this.mes + 1, 1);\n      this.seleccionarDia = true;\n      while (ini < fin) {\n        let band = true;\n        for (let i of this.des) {\n          if ((ini.getDate() == i.getDate() &&\n            ini.getMonth() == i.getMonth() &&\n            ini.getFullYear() == i.getFullYear())) {\n            band = false;\n          }\n        }\n        if (band) {\n          this.dias.push(ini.getDate());\n        }\n        ini.setDate(ini.getDate() + 1);\n      }\n\n    } else {\n      this.msj = \"Verifica el ano y mes ingresados\";\n      this.error = true;\n    }\n    //console.log(this.dias)\n  }\n\n  continuar2() {\n    if (this.dia >= (new Date().getDate())) {\n      this.error = false;\n      this.seleccionarFechaCheckOut = true;\n      this.fechaCheckIn = new Date(this.ano, this.mes, this.dia);\n      let min = this.minFechaCheckOut();\n      //console.log(min);\n      if (min == this.fechaCheckIn) {\n        min.setFullYear(min.getFullYear() + 1);\n      }\n      this.limiteCheckOut = `${min.getFullYear()}-${(min.getMonth() + 1).toString().padStart(2, '0')}-${(min.getDate()).toString().padStart(2, '0')}`;\n      //console.log(this.limiteCheckOut);\n\n    } else {\n      this.msj = \"Verifica el dia ingresado\";\n      this.error = true;\n    }\n  }\n\n  minFechaCheckOut(): Date {\n    this.des.push(this.fechaCheckIn)\n    //console.log(this.des);\n    this.des.sort(function (a, b) {\n      return a.getTime() - b.getTime();\n    });\n    //console.log(this.des);\n    let indice = this.des.indexOf(this.fechaCheckIn);\n    //console.log(indice + \" \" + this.des.length);\n    if ((indice + 1) < this.des.length) {\n      let min = this.des[indice + 1];\n      return min;\n    }\n    return this.fechaCheckIn;\n  }\n\n  continuar3() {\n    this.fechaCheckOut = new Date(this.fechaCheckOut);\n    this.mostrarFechas = true;\n  }\n\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}